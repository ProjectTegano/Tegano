<?xml version="1.0"?>

<!-- Wolframe main configuration file
-->

<Configuration>

    <!-- modules to be loaded by the server, get inserted here by installer -->
    <LoadModules>
    </LoadModules>

    <!-- Print the application name and version in the initial greeting
         allowed values are: ProductOnly, Major, Minor, Revision, Build, OS, None
         Default: None
      -->
    <ServerTokens>OS</ServerTokens>

    <!-- Print the name of the server as first element of the greeting
         Default: empty
      -->
    <ServerSignature>Wolframe</ServerSignature> 
    
    <!-- Windows service parameters (for service registration) -->
    <Service>
        <ServiceName>wolframe</ServiceName>
        <DisplayName>Wolframe Daemon</DisplayName>
        <Description>Wolframe Daemon</Description>
    </Service>







    <!--    Ports 7649-7671 and 7934-7966 are unassigned according to IANA (last updated 2010-03-11).
        Let's use 7660 for unencrypted connections and 7960 for SSL connections.
        Note that 7654 seems to be used by Winamp. -->
    <server>
        <maxConnections>3</maxConnections>    <!--    Maximum number of simultaneous connections (clients).
                                Default is the OS limit. This is the global (total) value.
                                Set it to 0 to disable (to use the system limit) -->
        <threads>7</threads>            <!--    Number of threads for serving client connections.
                                Default is 4 -->
        <listen>
            <address>*</address>
            <port>7661</port>
            <maxConnections>2</maxConnections><!--    Maximum number of simultaneous connections (clients)
                                for this socket. Default is the OS limit. -->
        </listen>
    </server>


    <!--    Database configuration, get added here by the installer -->
    <database>
    </database>
    
    <!--    Logging parameters -->
    <logging>
        <!--    log level for console (stderr) logging -->
        <stderr>
            <level>INFO</level>
        </stderr>

        <!--    log level for file logging -->
        <logFile>
            <filename>#inserted by installer#</filename>
            <level>INFO</level>
        </logFile>

        <!--    syslog facility, identifier and log level -->
        <syslog>
            <ident>wolframed</ident>
            <facility>LOCAL2</facility>
            <level>INFO</level>
        </syslog>

        <!--    eventlog source and log level. Valid only on Windows -->
        <eventlog>
            <name>Application</name>
            <source>Wolframe</source>
            <level>INFO</level>
        </eventlog>
    </logging>
    
    <!-- Authentication, authorization, auditing and accounting configuration -->
    <AAAA>

        <authentication>
            <database>
                <identifier>database authentication</identifier>
                <database>#inserted by installer#</database>
            </database>
            <TextFile>
                <identifier>Text file authentication</identifier>
                <file>#inserted by installer#</file>
            </TextFile>
        </authentication>
        
        <Authorization>
            <default>allow</default> <!-- what to do when there is no authorization information -->

<!--
            <database>
                <name>"PostgreSQL database authorization"</name>
                <database>pgdb</database>
            </database>

            <database>
                <name>"SQLite database authorization"</name>
                <database>sqlitedb</database>
            </database>
-->
        </Authorization>

        <Audit>
            <!-- Audit is mandatory ? If set to yes operations will fail if audit fails -->
            <mandatory>yes</mandatory>
            
            <TextFile>
                <required>yes</required>
                <file>#inserted by installer#</file>
            </TextFile>
            
            <Database>
                <required>no</required>
                <database>#inserted by installer#</database>
            </Database>
        </Audit>
    <!-- There is no configuration for accounting as it
         should be derived from audit information -->
    </AAAA>
    
</Configuration>
