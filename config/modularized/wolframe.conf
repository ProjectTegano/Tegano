; Wolframe main configuration file

; Modules installed via packages, loaded in those code snippets
.include modules.d/*.conf

; Configuration of modules in packages
.include conf.d/*.conf

; Modules to be loaded (bundled with the wolframe core package)
LoadModules {

; Search also for modules in the following directory additionally to
; the default load dir (with lower priority). Can be absolute or relative,
; if relative it has this configuration file as basis to compute the path
;    Directory modules



; authentication modules
    Module mod_auth_textfile
    Module mod_auth_database


; authorization modules
    Module mod_authz_database
    Module mod_command_aamap

; audit modules    
    Module mod_audit_textfile
    Module mod_audit_database

; modules for detecting document types    
    Module mod_doctype_xml
    Module mod_doctype_json

; modules for XML processing



; data normalization modules   
    Module mod_normalize_locale
    Module mod_normalize_string
    Module mod_normalize_base64
    Module mod_normalize_number

; data types modules	
    Module mod_datatype_datetime
    Module mod_datatype_bcdnumber
	
; business layer modules
    Module mod_command_directmap
    Module mod_ddlcompiler_simpleform
    Module mod_command_tdl

; various filtering modules

    Module mod_filter_blob

; scheduling modules    
    Module mod_job_schedule_db
}

; Print the application name and version in the initial greeting
; allowed values are: ProductOnly, Major, Minor, Revision, OS, None
; Default: None

ServerTokens OS					

; Print the name of the server as first element of the greeting
; Default: empty

ServerSignature "Wolframe"

; Unix daemon parameters

Daemon {

; user and group to run the daemon

    User wolframe
    Group wolframe

; daemon lockfile

    PidFile /var/run/wolframe/wolframed.pid
}

; Logging

Logging {

; logging to stderr (console) is active only in forground (-f) mode

    Stderr {
        Level INFO
    }

; logging to a file

    Logfile {
        Filename /var/log/wolframe/wolframed.log
        Level INFO
    }

; logging to syslog (traditionally), on systemd-enabled system logging
; to the journal
             
    Syslog {
        Ident wolframed
        Facility LOCAL2
        Level INFO
    }

}

; network configuration

Listen {

; Maximum number of simultaneous connections (clients).
; Default is the OS limit. This is the global (total) value.
; Set it to 0 to disable (to use the system limit)

    MaxConnections 4

; Number of threads for serving client connections.
; Default: 4
    
    Threads 4

    Socket {

; Interfaces can be named for later reference

        Identifier "loopback"
 
; The address to listen to
; can be an IPv4 of the form x.x.x.x or 0.0.0.0 (for any address)
; can be an IPv6 of the form x:x:x:x:x:x:x:x or :: (for any address)

        Address localhost

; Ports 7649-7671 and 7934-7966 are unassigned according to IANA (last updated 2010-03-11).
; Use 7661 for unencrypted connections and 7961 for SSL connections.
; Note that 7654 is used by Winamp.

        Port 7661

; Maximum number of simultaneous connections (clients)								
; for this socket.
; Default is the OS limit.

        MaxConnections 4

    }
    
}

;listen	{
;								
;	socket	{
;		address		*
;		port		7661
;		maxConnections	2				
;	}
;	socket	{
;		address		localhost
;;		address		::1
;		port		7662
;		identifier	Interface 1			; Interfaces can be named for AAA purposes
;	}
;
;	SSLsocket	{
;		address		0.0.0.0
;		port		7961
;		identifier	Interface 1			; Many interfaces can have the same identifier and
;								; they can be referred as one group in AAAA
;		; SSL parameters: required if SSLsocket is defined
;		certificate	../tests/SSL/wolframed.crt	; Server certificate file (PEM)
;		key		../tests/SSL/wolframed.key	; Server key file (PEM)
;		CAdirectory	../tests/SSL/CAdir		; Directory holding CA certificate files
;		CAchainFile	../tests/SSL/CAchain.pem	; SSL CA chain file
;		verify		ON				; Require and verify client certificate
;	}
;	SSLsocket	{
;		address		127.0.0.1
;		port		7962
;		identifier	Interface 2
;		maxConnections	2
;		certificate	../tests/SSL/wolframed.crt
;		key		../tests/SSL/wolframed.key
;		; CAdirectory	../tests/SSL/CAdir		; It's not necessary to define both
;		CAchainFile	../tests/SSL/CAchain.pem	; CAdirectory and CAchainFile.
;		verify		OFF
;	}
;}
;
