TRANSACTION main
BEGIN
Code:
[0] RESULT_SET_INIT
[1] OPEN_ITER_PATH PATH /doc/element
[2] NOT_IF_COND GOTO @9
[3] DBSTM_START STM (SELECT id FROM tab WHERE name = $1 AND id = $2 )
[4] DBSTM_BIND_PATH PATH name
[5] DBSTM_BIND_PATH PATH zuk
[6] DBSTM_EXEC
[7] NEXT
[8] IF_COND GOTO @3
[9] OUTPUT_OPEN_ARRAY TAG res
[10] OPEN_ITER_LAST_RESULT
[11] NOT_IF_COND GOTO @17
[12] OUTPUT_OPEN_ELEM
[13] OUTPUT_ITR_COLUMN
[14] OUTPUT_CLOSE_ELEM
[15] NEXT
[16] IF_COND GOTO @12
[17] OUTPUT_CLOSE_ARRAY
[18] RETURN
END

TRANSACTION INPUT:
Code:
[0] RESULT_SET_INIT
[1] OPEN_ITER_TUPLESET TUPLESET 0
[2] NOT_IF_COND GOTO @9
[3] DBSTM_START STM (SELECT id FROM tab WHERE name = $1 AND id = $2 )
[4] DBSTM_BIND_ITR_IDX COLIDX 1
[5] DBSTM_BIND_ITR_IDX COLIDX 2
[6] DBSTM_EXEC
[7] NEXT
[8] IF_COND GOTO @3
[9] OUTPUT_OPEN_ARRAY TAG res
[10] OPEN_ITER_LAST_RESULT
[11] NOT_IF_COND GOTO @17
[12] OUTPUT_OPEN_ELEM
[13] OUTPUT_ITR_COLUMN
[14] OUTPUT_CLOSE_ELEM
[15] NEXT
[16] IF_COND GOTO @12
[17] OUTPUT_CLOSE_ARRAY
[18] RETURN
Input Data:
SET 0: name, zuk
  'barbara', '1'
  'jakob', '2'
  'sereina', '3'

